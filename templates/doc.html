{% extends "base.html" %}

{% block title %}API Documentation{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>API Documentation</h1>
    <p>This page provides documentation for the API endpoints.</p>

    <section class="mt-3">
        <h2>Get Violations</h2>
        <p>Retrieves a list of violations, showing the count of contraventions per establishment, between two specified dates.</p>
        <h4>GET /contrevenants?du={start_date}&au={end_date}</h4>
        <p><strong>Parameters:</strong></p>
        <ul>
            <li><code>du</code> - The start date in ISO 8601 format (YYYY-MM-DD).</li>
            <li><code>au</code> - The end date in ISO 8601 format (YYYY-MM-DD).</li>
        </ul>
        <p><strong>Response:</strong> An array of violation records in JSON format.</p>
        <h5>Example Request</h5>
        <pre>GET /contrevenants?du=2023-01-08&au=2023-01-10</pre>
        <h5>Example Response</h5>
            <pre>[{"count":1,"etablissement":"BOULANGERIE CHESKIE"},{"count":1,"etablissement":"RESTAURANT A & W"}]</pre>
    </section>

    <section class="mt-3">
        <h3>Error Codes</h3>
        <p>400 Bad Request - The request could not be understood by the server due to malformed syntax.</p>
        <p>500 Internal Server Error - The server encountered an unexpected condition which prevented it from fulfilling the request.</p>
    </section>

<section class="mt-3">
    <h3>Summary Field Descriptions</h3>
    <p>For the summary of violations between two dates:</p>
    <table class="table">
        <thead>
            <tr>
                <th>Field</th>
                <th>Description</th>
                <th>Type</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>etablissement</td>
                <td>Name of the establishment involved in the violation.</td>
                <td>String</td>
            </tr>
            <tr>
                <td>count</td>
                <td>The number of contraventions recorded for the establishment in the specified period.</td>
                <td>Integer</td>
            </tr>
        </tbody>
    </table>
</section>



</div>
{% endblock %}
